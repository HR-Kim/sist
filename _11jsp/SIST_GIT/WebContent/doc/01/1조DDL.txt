/* 모텔 */
CREATE TABLE MY_SCHEMA.YA_MOTEL (
	MOTEL_NUM NUMBER NOT NULL, /* 모텔등록번호 */
	EMAIL VARCHAR2(320) NOT NULL, /* 이메일 */
	NAME VARCHAR2(200) NOT NULL, /* 이름 */
	PHONE VARCHAR2(200) NOT NULL, /* 전화번호 */
	ADDRESS VARCHAR2(500) NOT NULL, /* 주소 */
	NORMAL_CNT NUMBER NOT NULL, /* 일반실방갯수 */
	PREMIUM_CNT NUMBER, /* 특실방갯수 */
	NORMAL_PRI NUMBER NOT NULL, /* 일반실가격 */
	PREMIUM_PRI NUMBER, /* 특실가격 */
	IS_OK NUMBER(1) NOT NULL, /* 승인여부 */
	CHECK_IN VARCHAR2(10), /* 입실시간 */
	CHECK_OUT VARCHAR2(10) /* 퇴실시간 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_MOTEL
	ON MY_SCHEMA.YA_MOTEL (
		MOTEL_NUM ASC
	);

ALTER TABLE MY_SCHEMA.YA_MOTEL
	ADD
		CONSTRAINT PK_YA_MOTEL
		PRIMARY KEY (
			MOTEL_NUM
		);

COMMENT ON TABLE MY_SCHEMA.YA_MOTEL IS '모텔';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.MOTEL_NUM IS '모텔등록번호';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.EMAIL IS '이메일';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.NAME IS '이름';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.PHONE IS '전화번호';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.ADDRESS IS '주소';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.NORMAL_CNT IS '일반실방갯수';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.PREMIUM_CNT IS '특실방갯수';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.NORMAL_PRI IS '일반실가격';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.PREMIUM_PRI IS '특실가격';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.IS_OK IS '승인여부';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.CHECK_IN IS '입실시간';

COMMENT ON COLUMN MY_SCHEMA.YA_MOTEL.CHECK_OUT IS '퇴실시간';

/* 회원 */
CREATE TABLE MY_SCHEMA.YA_MEMBER (
	EMAIL VARCHAR2(320) NOT NULL, /* 이메일 */
	PASSWORD VARCHAR2(200) NOT NULL, /* 비밀번호 */
	NICKNAME VARCHAR2(200) NOT NULL, /* 닉네임 */
	AUTH NUMBER(1) NOT NULL, /* 권한 */
	POINT NUMBER(10) NOT NULL, /* 포인트 */
	IS_OK NUMBER(1) NOT NULL /* 승인여부 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_MEMBER
	ON MY_SCHEMA.YA_MEMBER (
		EMAIL ASC
	);

CREATE UNIQUE INDEX MY_SCHEMA.UIX_YA_MEMBER
	ON MY_SCHEMA.YA_MEMBER (
		NICKNAME ASC
	);

ALTER TABLE MY_SCHEMA.YA_MEMBER
	ADD
		CONSTRAINT PK_YA_MEMBER
		PRIMARY KEY (
			EMAIL
		);

ALTER TABLE MY_SCHEMA.YA_MEMBER
	ADD
		CONSTRAINT UK_YA_MEMBER
		UNIQUE (
			NICKNAME
		);

COMMENT ON TABLE MY_SCHEMA.YA_MEMBER IS '회원';

COMMENT ON COLUMN MY_SCHEMA.YA_MEMBER.EMAIL IS '이메일';

COMMENT ON COLUMN MY_SCHEMA.YA_MEMBER.PASSWORD IS '비밀번호';

COMMENT ON COLUMN MY_SCHEMA.YA_MEMBER.NICKNAME IS '닉네임';

COMMENT ON COLUMN MY_SCHEMA.YA_MEMBER.AUTH IS '권한';

COMMENT ON COLUMN MY_SCHEMA.YA_MEMBER.POINT IS '포인트';

COMMENT ON COLUMN MY_SCHEMA.YA_MEMBER.IS_OK IS '승인여부';

/* 1:1문의 */
CREATE TABLE MY_SCHEMA.YA_QNA (
	SEQ NUMBER(8) NOT NULL, /* 글번호 */
	EMAIL VARCHAR2(320) NOT NULL, /* 이메일 */
	TITLE VARCHAR2(200) NOT NULL, /* 제목 */
	CONTENT CLOB NOT NULL, /* 내용 */
	UPLOAD_DT DATE NOT NULL, /* 올린날짜 */
	REFER NUMBER(5) NOT NULL, /* 그룹 */
	STEP NUMBER(5) NOT NULL, /* 스텝 */
	DEPTH NUMBER(5) NOT NULL, /* 뎁스 */
	DEL NUMBER(1) NOT NULL, /* 삭제여부 */
	IS_ANS NUMBER(1) NOT NULL /* 답글여부 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_QNA
	ON MY_SCHEMA.YA_QNA (
		SEQ ASC
	);

ALTER TABLE MY_SCHEMA.YA_QNA
	ADD
		CONSTRAINT PK_YA_QNA
		PRIMARY KEY (
			SEQ
		);

COMMENT ON TABLE MY_SCHEMA.YA_QNA IS '1:1문의';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.SEQ IS '글번호';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.EMAIL IS '이메일';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.TITLE IS '제목';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.CONTENT IS '내용';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.UPLOAD_DT IS '올린날짜';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.REFER IS '그룹';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.STEP IS '스텝';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.DEPTH IS '뎁스';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.DEL IS '삭제여부';

COMMENT ON COLUMN MY_SCHEMA.YA_QNA.IS_ANS IS '답글여부';

/* 리뷰 */
CREATE TABLE MY_SCHEMA.YA_REVIEW (
	SEQ NUMBER NOT NULL, /* 글번호 */
	MOTEL_NUM NUMBER NOT NULL, /* 모텔등록번호 */
	NICKNAME VARCHAR2(200) NOT NULL, /* 닉네임 */
	UPLOAD_DT DATE NOT NULL, /* 등록일 */
	FACILITY NUMBER(2), /* 시설점수 */
	SERVICE NUMBER(2), /* 서비스점수 */
	CLEAN NUMBER(2), /* 청결점수 */
	CONTENT VARCHAR2(2000) NOT NULL, /* 내용 */
	REFERENCE NUMBER(5) NOT NULL, /* 그룹 */
	STEP NUMBER(5) NOT NULL, /* 스텝 */
	DEPTH NUMBER(5) NOT NULL, /* 뎁스 */
	DEL NUMBER(1) NOT NULL /* 삭제여부 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_REVIEW
	ON MY_SCHEMA.YA_REVIEW (
		SEQ ASC
	);

ALTER TABLE MY_SCHEMA.YA_REVIEW
	ADD
		CONSTRAINT PK_YA_REVIEW
		PRIMARY KEY (
			SEQ
		);

COMMENT ON TABLE MY_SCHEMA.YA_REVIEW IS '리뷰';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.SEQ IS '글번호';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.MOTEL_NUM IS '모텔등록번호';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.NICKNAME IS '닉네임';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.UPLOAD_DT IS '등록일';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.FACILITY IS '시설점수';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.SERVICE IS '서비스점수';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.CLEAN IS '청결점수';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.CONTENT IS '내용';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.REFERENCE IS '그룹';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.STEP IS '스텝';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.DEPTH IS '뎁스';

COMMENT ON COLUMN MY_SCHEMA.YA_REVIEW.DEL IS '삭제여부';

/* 사진 */
CREATE TABLE MY_SCHEMA.YA_IMG (
	SEQ NUMBER NOT NULL, /* 사진등록번호 */
	MOTEL_NUM NUMBER NOT NULL, /* 모텔등록번호 */
	IMG_NAME VARCHAR2(500) NOT NULL, /* 사진명 */
	IMG_AUTH NUMBER(1) NOT NULL /* 사진구분 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_IMG
	ON MY_SCHEMA.YA_IMG (
		SEQ ASC
	);

ALTER TABLE MY_SCHEMA.YA_IMG
	ADD
		CONSTRAINT PK_YA_IMG
		PRIMARY KEY (
			SEQ
		);

COMMENT ON TABLE MY_SCHEMA.YA_IMG IS '사진';

COMMENT ON COLUMN MY_SCHEMA.YA_IMG.SEQ IS '사진등록번호';

COMMENT ON COLUMN MY_SCHEMA.YA_IMG.MOTEL_NUM IS '모텔등록번호';

COMMENT ON COLUMN MY_SCHEMA.YA_IMG.IMG_NAME IS '사진명';

COMMENT ON COLUMN MY_SCHEMA.YA_IMG.IMG_AUTH IS '사진구분';

/* 공지사항 */
CREATE TABLE MY_SCHEMA.YA_NOTICE (
	SEQ NUMBER(8) NOT NULL, /* 글순서 */
	TITLE VARCHAR2(200) NOT NULL, /* 제목 */
	CONTENT VARCHAR2(4000) NOT NULL, /* 내용 */
	UPLOAD_DT DATE NOT NULL /* 등록일 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_NOTICE
	ON MY_SCHEMA.YA_NOTICE (
		SEQ ASC
	);

ALTER TABLE MY_SCHEMA.YA_NOTICE
	ADD
		CONSTRAINT PK_YA_NOTICE
		PRIMARY KEY (
			SEQ
		);

COMMENT ON TABLE MY_SCHEMA.YA_NOTICE IS '공지사항';

COMMENT ON COLUMN MY_SCHEMA.YA_NOTICE.SEQ IS '글순서';

COMMENT ON COLUMN MY_SCHEMA.YA_NOTICE.TITLE IS '제목';

COMMENT ON COLUMN MY_SCHEMA.YA_NOTICE.CONTENT IS '내용';

COMMENT ON COLUMN MY_SCHEMA.YA_NOTICE.UPLOAD_DT IS '등록일';

/* 예약내역 */
CREATE TABLE MY_SCHEMA.YA_RESERVE (
	SEQ NUMBER NOT NULL, /* 예약번호 */
	MOTEL_NUM NUMBER NOT NULL, /* 모텔등록번호 */
	EMAIL VARCHAR2(320) NOT NULL, /* 이메일 */
	NAME VARCHAR2(20) NOT NULL, /* 예약자명 */
	ROOM_TYPE VARCHAR2(15) NOT NULL, /* 방종류 */
	PAY_DT DATE NOT NULL, /* 결제일 */
	USE_DT VARCHAR2(20) NOT NULL, /* 이용일 */
	PRICE NUMBER(6) NOT NULL, /* 가격 */
	STATE NUMBER(1) NOT NULL, /* 상태 */
	POINT NUMBER(10) NOT NULL /* 포인트 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_RESERVE
	ON MY_SCHEMA.YA_RESERVE (
		SEQ ASC
	);

ALTER TABLE MY_SCHEMA.YA_RESERVE
	ADD
		CONSTRAINT PK_YA_RESERVE
		PRIMARY KEY (
			SEQ
		);

COMMENT ON TABLE MY_SCHEMA.YA_RESERVE IS '예약내역';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.SEQ IS '예약번호';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.MOTEL_NUM IS '모텔등록번호';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.EMAIL IS '이메일';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.NAME IS '예약자명';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.ROOM_TYPE IS '방종류';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.PAY_DT IS '결제일';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.USE_DT IS '이용일';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.PRICE IS '가격';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.STATE IS '상태';

COMMENT ON COLUMN MY_SCHEMA.YA_RESERVE.POINT IS '포인트';

/* 찜내역 */
CREATE TABLE MY_SCHEMA.YA_ZZIM (
	SEQ NUMBER NOT NULL, /* 찜순서 */
	EMAIL VARCHAR2(320) NOT NULL, /* 이메일 */
	MOTEL_NUM NUMBER NOT NULL /* 모텔등록번호 */
);

CREATE UNIQUE INDEX MY_SCHEMA.PK_YA_ZZIM
	ON MY_SCHEMA.YA_ZZIM (
		SEQ ASC
	);

ALTER TABLE MY_SCHEMA.YA_ZZIM
	ADD
		CONSTRAINT PK_YA_ZZIM
		PRIMARY KEY (
			SEQ
		);

COMMENT ON TABLE MY_SCHEMA.YA_ZZIM IS '찜내역';

COMMENT ON COLUMN MY_SCHEMA.YA_ZZIM.SEQ IS '찜순서';

COMMENT ON COLUMN MY_SCHEMA.YA_ZZIM.EMAIL IS '이메일';

COMMENT ON COLUMN MY_SCHEMA.YA_ZZIM.MOTEL_NUM IS '모텔등록번호';

ALTER TABLE MY_SCHEMA.YA_MOTEL
	ADD
		CONSTRAINT FK_YA_MEMBER_TO_YA_MOTEL
		FOREIGN KEY (
			EMAIL
		)
		REFERENCES MY_SCHEMA.YA_MEMBER (
			EMAIL
		);

ALTER TABLE MY_SCHEMA.YA_QNA
	ADD
		CONSTRAINT FK_YA_MEMBER_TO_YA_QNA
		FOREIGN KEY (
			EMAIL
		)
		REFERENCES MY_SCHEMA.YA_MEMBER (
			EMAIL
		);

ALTER TABLE MY_SCHEMA.YA_REVIEW
	ADD
		CONSTRAINT FK_YA_MOTEL_TO_YA_REVIEW
		FOREIGN KEY (
			MOTEL_NUM
		)
		REFERENCES MY_SCHEMA.YA_MOTEL (
			MOTEL_NUM
		);

ALTER TABLE MY_SCHEMA.YA_IMG
	ADD
		CONSTRAINT FK_YA_MOTEL_TO_YA_IMG
		FOREIGN KEY (
			MOTEL_NUM
		)
		REFERENCES MY_SCHEMA.YA_MOTEL (
			MOTEL_NUM
		);

ALTER TABLE MY_SCHEMA.YA_RESERVE
	ADD
		CONSTRAINT FK_YA_MOTEL_TO_YA_RESERVE
		FOREIGN KEY (
			MOTEL_NUM
		)
		REFERENCES MY_SCHEMA.YA_MOTEL (
			MOTEL_NUM
		);

ALTER TABLE MY_SCHEMA.YA_RESERVE
	ADD
		CONSTRAINT FK_YA_MEMBER_TO_YA_RESERVE
		FOREIGN KEY (
			EMAIL
		)
		REFERENCES MY_SCHEMA.YA_MEMBER (
			EMAIL
		);

ALTER TABLE MY_SCHEMA.YA_ZZIM
	ADD
		CONSTRAINT FK_YA_MEMBER_TO_YA_ZZIM
		FOREIGN KEY (
			EMAIL
		)
		REFERENCES MY_SCHEMA.YA_MEMBER (
			EMAIL
		);

ALTER TABLE MY_SCHEMA.YA_ZZIM
	ADD
		CONSTRAINT FK_YA_MOTEL_TO_YA_ZZIM
		FOREIGN KEY (
			MOTEL_NUM
		)
		REFERENCES MY_SCHEMA.YA_MOTEL (
			MOTEL_NUM
		);

