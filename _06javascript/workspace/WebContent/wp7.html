<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h1>다음 생일까지 남은 일수</h1>
<p>
다음버튼을 클릭하여 생일을 입력하시면,<br>
다음생일까지 남은 일수를 볼 수 있습니다.
</p>
<form>
<input type="text" value="" id="birth">
<input type="button" value="입력" onclick="myFunc()">
<br>
<p id="demo"></p>
</form>

<script type="text/javascript">
function myFunc() {
	var crt_dt = new Date();
	var crt_month = crt_dt.getMonth() + 1;
	var crt_year = crt_dt.getFullYear();
	var crt_day = crt_dt.getDate();
	var birth = document.getElementById('birth').value;
	var birthYear = birth.substr(0, 4);
	var birthMonth = birth.substr(4, 2);
	var birthDay = birth.substr(6, 2);
	var start = new Date("January 1, 2017 00:00:00");
	var end = new Date("January 1, 2018 00:00:00");

	var myBirth = new Date(crt_year, birthMonth-1, birthDay); 
	
	//document.getElementById('demo').innerHTML = Math.ceil((myBirth.getTime() - crt_dt.getTime()) /1000/60/60/24);
	//alert(crt_dt);
	//alert(Math.ceil((myBirth.getTime() - crt_dt.getTime()) /1000/60/60/24));
	
		//(Mybirth.getTime() - crt_dt.getTime())/(1000*60*60*24); 
		//
	 if(birthMonth >= crt_month){
		if(birthDay >crt_day){
			document.getElementById('demo').innerHTML = Math.ceil((myBirth.getTime() - crt_dt.getTime())/1000/60/60/24);
		}else if(birthDay == crt_day){
			document.getElementById('demo').innerHTML = "365";
		}else{
			var cnt = Math.ceil(((end.getTime()-crt_dt.getTime())+(myBirth.getTime()-start.getTime()))/1000/60/60/24);
			document.getElementById('demo').innerHTML = cnt;
		}
	}else{
		var cnt1 = Math.ceil(((end.getTime()-crt_dt.getTime())+(myBirth.getTime()-start.getTime()))/1000/60/60/24);
		document.getElementById('demo').innerHTML = cnt1;
	}
}
	
</script>
</body>
</html>




